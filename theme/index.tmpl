{% extends "base.tmpl" %}

{% block seo %}

<title>{{site.Name}}</title>
<link rel="canonical" href="{{site.URL}}">
<meta property="og:url" content="{{site.URL}}"/>
<meta property="og:title" content="{{site.Name}}"/>
<meta property="og:description" content="{{site.Description}}"/>
<meta property="og:type" content="website" />
<meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/darshansharma-ur.appspot.com/o/images%2F286366543_436060667935480_6479411762365981172_n.jpeg?alt=media&token=0dbe8925-c5ca-420a-a2f1-63d51fb74ee2" />
<meta name="twitter:title" content="{{site.Name}}" />
<meta name="twitter:image" content="https://firebasestorage.googleapis.com/v0/b/darshansharma-ur.appspot.com/o/images%2F286366543_436060667935480_6479411762365981172_n.jpeg?alt=media&token=0dbe8925-c5ca-420a-a2f1-63d51fb74ee2" />
<meta name="description" content="{{site.Description}}"/>
<meta name="twitter:description" content="{{site.Description}}" />
<script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "BlogPosting",
      "headline": "{{site.Name}}",
      "url": "{{site.URL}}",
      "description": "{{site.Description}}",
      "image": "https://firebasestorage.googleapis.com/v0/b/darshansharma-ur.appspot.com/o/images%2F286366543_436060667935480_6479411762365981172_n.jpeg?alt=media&token=0dbe8925-c5ca-420a-a2f1-63d51fb74ee2",
      "author": {
        "@type": "Person",
        "name": "{{user.Name}}"
      }
  }
  </script>

  <script type="text/javascript">

  function addEmail(){
    var subscribeButton = document.getElementById("subscribe");
    try{
      
      subscribeButton.disabled = true;
      console.log('Sending your request to main server ...');
      let userEmail = document.getElementById("email").value;
      let data = JSON.stringify({
        "email": userEmail
      });

      var xhr = new XMLHttpRequest();
      xhr.open("POST", "https://us-central1-darshansharma-ur.cloudfunctions.net/addEmail");
      xhr.setRequestHeader("Content-Type", "application/json");
      document.getElementById("loader").style.display = "block";
      document.getElementById("subscribe").
      xhr.send(data);
      xhr.addEventListener("readystatechange", function() {
      if(this.readyState === 4) {
        document.getElementById("loader").style.display = "none";
        subscribeButton.disabled = false;
        document.getElementById("success-response").style.visibility = "visible";
        document.getElementById("success-response").style.color = "#00BF63";
        document.getElementById("success-response").style.fontWeight = "bold";
        document.getElementById("success-response").innerHTML = "Thanks for subscribing. You will enjoy it !!";
    
  } else {
        document.getElementById("loader").style.display = "none";
        subscribeButton.disabled = false;
        document.getElementById("success-response").style.visibility = "visible";
        document.getElementById("success-response").style.color = "#E86D79";
        document.getElementById("success-response").style.fontWeight = "bold";
        document.getElementById("error-response").innerHTML = "Please try some time later. Some problem with server";
    
  }

  setTimeout(() => {
    document.getElementById("email").value = "";
    subscribeButton.disabled = false;
    document.getElementById("success-response").style.visibility = "hidden";
    document.getElementById("loader").style.display = "none";
    document.getElementById("error-response").style.visibility = "hidden";

},5000);

});

    
    }

    catch(err) {
      document.getElementById("success-response").style.visibility = "visible";
      document.getElementById("success-response").style.color = "#E86D79";
      subscribeButton.disabled = false;
      document.getElementById("loader").style.display = "none";
      document.getElementById("success-response").style.fontWeight = "bold";
      document.getElementById("error-response").innerHTML = "Please try again later.";

      setTimeout(() => {
      document.getElementById("email").value = "";
      subscribeButton.disabled = false;
      document.getElementById("loader").style.display = "none";
      document.getElementById("success-response").style.visibility = "hidden";
      document.getElementById("error-response").style.visibility = "hidden";

    },5000);
    }

    }
  

</script>
{% endblock %}

{% block content %}

<section class="center">
  <header class="tc pv2 pv3-ns">
    <img src="https://firebasestorage.googleapis.com/v0/b/darshansharma-ur.appspot.com/o/images%2F286366543_436060667935480_6479411762365981172_n.jpeg?alt=media&token=0dbe8925-c5ca-420a-a2f1-63d51fb74ee2" class="br-100 pa1 h5 w5 ba b--black-10" alt="avatar">
    <h1 class="dim b f2 tc db mb3 mb4-ns">Darshan Sharma</h1>
  </header>

  <article class="f4 lh-copy">      
    
    <code> अपि चेदसि पापेभ्य: सर्वेभ्य: पापकृत्तम: | </code><br>
    <code> सर्वं ज्ञानप्लवेनैव वृजिनं सन्तरिष्यसि || </code>
    
    <br><br>
    <code>
    तो तुम भी ज्ञान की नौका में बैठकर पाप के सागर को पार कर जाओ । 
    ये समझलो पार्थ जैसे अग्नि सब कुछ जला कर भस्म कर देती है, वैसे ही ज्ञान की अग्नि कर्म की इच्छा, 
    कर्म के फल न मिलने पर आने वाले क्रोध और उस क्रोध से उत्पन हुए मोह को भस्म कर देती है । 
    हे पार्थ इस मंत्र को हमेशा याद रखो इस संसार में ज्ञान के समान पवित्र करने वाली न कोई वस्तु है न कोई तत्त्व । 
    </code>
  </article>
</section>


<section class="pa4-l" id="subscription-sections">
      <form class="bg-near-white mw7 center pa4 br2-ns" id="subscribe-form" name="subscribe-form" class="validate">
      <fieldset class="cf bn ma0 pa0">
        <p>Subscribe</p>
        </legend>
        <div id="loader" style="display:none;">Loading...</div>
        <div class="cf"> 
          <label class="clip" for="email-address">Email Address</label>
          <input class="f6 f5-l input-reset bn fl black-80 bg-white pa3 lh-solid w-100 w-75-m w-80-l br2-ns br--left-ns"
            type="email" value="" name="EMAIL" class="required email" id="email" required aria-label="email-label">
            <input class="f6 f5-l button-reset fl pv3 tc bn bg-animate bg-dark-gray white pointer w-100 w-25-m w-20-l br2-ns br--right-ns"
              type="button" value="Subscribe" name="subscribe" id="subscribe" class="button" onClick="addEmail()">
              <div class="response" id="error-response" style="visibility:hidden"></div>
              <div class="response" id="success-response" style="visibility:hidden"></div>
            </div>
      </fieldset>
    </form>
</section>
{% endblock %}
